{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jack\\\\Dropbox\\\\HW\\\\INF 141 - CS 121\\\\Project 3\\\\Milestone 2\\\\gugol\\\\src\\\\Containers\\\\SearchingPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { ListResult } from \"../Components/ListResult\";\nimport axios from \"axios\";\nexport const SearchingPage = () => {\n  const [results, setResults] = useState([]);\n  const [start, setStart] = useState(0);\n  const history = useHistory();\n\n  const getData = async () => {\n    console.log({\n      start\n    });\n    const reply = await axios({\n      method: 'get',\n      url: 'http://127.0.0.1:5000/api',\n      params: {\n        query: searchText,\n        start: start\n      }\n    });\n    console.log(reply);\n    setResults(reply.data.results);\n    setStart(start + 20);\n  };\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line\n  }, []);\n\n  const onNextPage = ({\n    searchText\n  }) => {\n    console.log({\n      start\n    });\n    getData();\n    history.push(`/search?q=${searchText}&start=${start}`);\n    window.scrollTo(0, 0);\n  };\n\n  return React.createElement(React.Fragment, null, results.map(result => React.createElement(ListResult, {\n    key: result.url,\n    url: result.url,\n    title: result.title,\n    snippet: result.snippet,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: onNextPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Next\"));\n};","map":{"version":3,"sources":["C:/Users/Jack/Dropbox/HW/INF 141 - CS 121/Project 3/Milestone 2/gugol/src/Containers/SearchingPage.js"],"names":["React","useState","useEffect","useHistory","ListResult","axios","SearchingPage","results","setResults","start","setStart","history","getData","console","log","reply","method","url","params","query","searchText","data","onNextPage","push","window","scrollTo","map","result","title","snippet"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAEjC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,CAAD,CAAlC;AACD,QAAMU,OAAO,GAAGR,UAAU,EAA1B;;AAEC,QAAMS,OAAO,GAAG,YAAY;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEL,MAAAA;AAAF,KAAZ;AACA,UAAMM,KAAK,GAAG,MAAMV,KAAK,CAAC;AACxBW,MAAAA,MAAM,EAAE,KADgB;AAExBC,MAAAA,GAAG,EAAE,2BAFmB;AAGxBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAEC,UADD;AAENX,QAAAA,KAAK,EAAEA;AAFD;AAHgB,KAAD,CAAzB;AAQAI,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAP,IAAAA,UAAU,CAACO,KAAK,CAACM,IAAN,CAAWd,OAAZ,CAAV;AACAG,IAAAA,QAAQ,CAACD,KAAK,GAAG,EAAT,CAAR;AACD,GAbD;;AAcAP,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,OAAO,GADO,CAEd;AACD,GAHQ,EAGN,EAHM,CAAT;;AAKD,QAAMU,UAAU,GAAG,CAAC;AAAEF,IAAAA;AAAF,GAAD,KAAqB;AACvCP,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEL,MAAAA;AAAF,KAAZ;AACAG,IAAAA,OAAO;AACPD,IAAAA,OAAO,CAACY,IAAR,CAAc,aAAYH,UAAW,UAASX,KAAM,EAApD;AACAe,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AAEA,GAND;;AAQA,SAAO,0CAAGlB,OAAO,CAACmB,GAAR,CAAYC,MAAM,IAC3B,oBAAC,UAAD;AACC,IAAA,GAAG,EAAEA,MAAM,CAACV,GADb;AAEC,IAAA,GAAG,EAAEU,MAAM,CAACV,GAFb;AAGC,IAAA,KAAK,EAAEU,MAAM,CAACC,KAHf;AAIC,IAAA,OAAO,EAAED,MAAM,CAACE,OAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADS,CAAH,EAQN;AAAQ,IAAA,OAAO,EAAEP,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARM,CAAP;AAUA,CA3CM","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { ListResult } from \"../Components/ListResult\"\r\nimport axios from \"axios\";\r\n\r\n\r\nexport const SearchingPage = () => {\r\n\r\n  const [results, setResults] = useState([]);\r\n  const [start, setStart] = useState(0);\r\n\tconst history = useHistory();\r\n\r\n  const getData = async () => {\r\n    console.log({ start })\r\n    const reply = await axios({\r\n      method: 'get',\r\n      url: 'http://127.0.0.1:5000/api',\r\n      params: {\r\n        query: searchText,\r\n        start: start\r\n      }\r\n    });\r\n    console.log(reply)\r\n    setResults(reply.data.results)\r\n    setStart(start + 20);\r\n  }\r\n  useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n\tconst onNextPage = ({ searchText, }) => {\r\n\t\tconsole.log({ start })\r\n\t\tgetData();\r\n\t\thistory.push(`/search?q=${searchText}&start=${start}`);\r\n\t\twindow.scrollTo(0, 0)\r\n\r\n\t}\r\n\r\n\treturn <>{results.map(result =>\r\n\t\t<ListResult\r\n\t\t\tkey={result.url}\r\n\t\t\turl={result.url}\r\n\t\t\ttitle={result.title}\r\n\t\t\tsnippet={result.snippet}\r\n\t\t/>\r\n\t)}\r\n\t\t<button onClick={onNextPage}>Next</button>\r\n\t</>\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}