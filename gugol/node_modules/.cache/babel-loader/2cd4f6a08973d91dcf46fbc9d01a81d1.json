{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jack\\\\Dropbox\\\\HW\\\\INF 141 - CS 121\\\\Project 3\\\\Milestone 2\\\\gugol\\\\src\\\\Containers\\\\SearchingPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { ListResult } from \"../Components/ListResult\";\nimport axios from \"axios\";\nexport const SearchingPage = () => {\n  const [results, setResults] = useState([]);\n  const [querySpeed, setQuerySpeed] = useState(null);\n  const [numberResultsFound, setNumberResultsFound] = useState(null); // const [start, setStart] = useState(0);\n\n  const history = useHistory();\n\n  const getParams = () => {\n    const firstSplit = history.location.search.split(\"?q=\");\n    const params = {\n      query: firstSplit[1].split(\"&\")[0].replace(\"%20\", \" \"),\n      start: firstSplit[1].split(\"&\")[1].split(\"=\")[1]\n    };\n    console.log(query);\n    return params;\n  };\n\n  const getData = async () => {\n    const {\n      query,\n      start\n    } = getParams();\n    const reply = await axios({\n      method: 'get',\n      url: 'http://127.0.0.1:5000/api',\n      params: {\n        query: query,\n        start: start\n      }\n    });\n    console.log(reply);\n    setResults(reply.data.results);\n    setQuerySpeed(reply.data.query_speed);\n    setNumberResultsFound(reply.data.number_results_found);\n    console.log(numberResultsFound);\n    console.log(querySpeed); // setStart(start + 20);\n  };\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line\n  }, []); // const onNextPage = ({ searchText, }) => {\n  // \tconsole.log({ start })\n  // \tgetData();\n  // \thistory.push(`/search?q=${searchText}&start=${start}`);\n  // \twindow.scrollTo(0, 0)\n  // }\n\n  return React.createElement(React.Fragment, null, results.map(result => React.createElement(ListResult, {\n    key: result.url,\n    url: result.url,\n    title: result.title,\n    snippet: result.snippet,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })));\n};","map":{"version":3,"sources":["C:/Users/Jack/Dropbox/HW/INF 141 - CS 121/Project 3/Milestone 2/gugol/src/Containers/SearchingPage.js"],"names":["React","useState","useEffect","useHistory","ListResult","axios","SearchingPage","results","setResults","querySpeed","setQuerySpeed","numberResultsFound","setNumberResultsFound","history","getParams","firstSplit","location","search","split","params","query","replace","start","console","log","getData","reply","method","url","data","query_speed","number_results_found","map","result","title","snippet"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAElC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACU,kBAAD,EAAqBC,qBAArB,IAA8CX,QAAQ,CAAC,IAAD,CAA5D,CAJkC,CAKlC;;AACA,QAAMY,OAAO,GAAGV,UAAU,EAA1B;;AAEA,QAAMW,SAAS,GAAG,MAAM;AACvB,UAAMC,UAAU,GAAGF,OAAO,CAACG,QAAR,CAAiBC,MAAjB,CAAwBC,KAAxB,CAA8B,KAA9B,CAAnB;AACA,UAAMC,MAAM,GAAG;AACdC,MAAAA,KAAK,EAAEL,UAAU,CAAC,CAAD,CAAV,CAAcG,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BG,OAA5B,CAAoC,KAApC,EAA2C,GAA3C,CADO;AAEdC,MAAAA,KAAK,EAAEP,UAAU,CAAC,CAAD,CAAV,CAAcG,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BA,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC;AAFO,KAAf;AAIAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AAEA,WAAOD,MAAP;AACA,GATD;;AAWA,QAAMM,OAAO,GAAG,YAAY;AAC3B,UAAM;AAAEL,MAAAA,KAAF;AAASE,MAAAA;AAAT,QAAmBR,SAAS,EAAlC;AACA,UAAMY,KAAK,GAAG,MAAMrB,KAAK,CAAC;AACzBsB,MAAAA,MAAM,EAAE,KADiB;AAEzBC,MAAAA,GAAG,EAAE,2BAFoB;AAGzBT,MAAAA,MAAM,EAAE;AACPC,QAAAA,KAAK,EAAEA,KADA;AAEPE,QAAAA,KAAK,EAAEA;AAFA;AAHiB,KAAD,CAAzB;AAQAC,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAlB,IAAAA,UAAU,CAACkB,KAAK,CAACG,IAAN,CAAWtB,OAAZ,CAAV;AACAG,IAAAA,aAAa,CAACgB,KAAK,CAACG,IAAN,CAAWC,WAAZ,CAAb;AACAlB,IAAAA,qBAAqB,CAACc,KAAK,CAACG,IAAN,CAAWE,oBAAZ,CAArB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYb,kBAAZ;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYf,UAAZ,EAf2B,CAgB3B;AACA,GAjBD;;AAmBAP,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,OAAO,GADQ,CAEf;AACA,GAHQ,EAGN,EAHM,CAAT,CAtCkC,CA2ClC;AACA;AACA;AACA;AACA;AAEA;;AAEA,SAAO,0CAAGlB,OAAO,CAACyB,GAAR,CAAYC,MAAM,IAC3B,oBAAC,UAAD;AACC,IAAA,GAAG,EAAEA,MAAM,CAACL,GADb;AAEC,IAAA,GAAG,EAAEK,MAAM,CAACL,GAFb;AAGC,IAAA,KAAK,EAAEK,MAAM,CAACC,KAHf;AAIC,IAAA,OAAO,EAAED,MAAM,CAACE,OAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADS,CAAH,CAAP;AAUA,CA7DM","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { ListResult } from \"../Components/ListResult\"\r\nimport axios from \"axios\";\r\n\r\n\r\nexport const SearchingPage = () => {\r\n\r\n\tconst [results, setResults] = useState([]);\r\n\tconst [querySpeed, setQuerySpeed] = useState(null)\r\n\tconst [numberResultsFound, setNumberResultsFound] = useState(null)\r\n\t// const [start, setStart] = useState(0);\r\n\tconst history = useHistory();\r\n\r\n\tconst getParams = () => {\r\n\t\tconst firstSplit = history.location.search.split(\"?q=\");\r\n\t\tconst params = {\r\n\t\t\tquery: firstSplit[1].split(\"&\")[0].replace(\"%20\", \" \"),\r\n\t\t\tstart: firstSplit[1].split(\"&\")[1].split(\"=\")[1]\r\n\t\t}\r\n\t\tconsole.log(query)\r\n\r\n\t\treturn params;\r\n\t}\r\n\r\n\tconst getData = async () => {\r\n\t\tconst { query, start } = getParams();\r\n\t\tconst reply = await axios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: 'http://127.0.0.1:5000/api',\r\n\t\t\tparams: {\r\n\t\t\t\tquery: query,\r\n\t\t\t\tstart: start\r\n\t\t\t}\r\n\t\t});\r\n\t\tconsole.log(reply)\r\n\t\tsetResults(reply.data.results)\r\n\t\tsetQuerySpeed(reply.data.query_speed)\r\n\t\tsetNumberResultsFound(reply.data.number_results_found)\r\n\t\tconsole.log(numberResultsFound)\r\n\t\tconsole.log(querySpeed)\r\n\t\t// setStart(start + 20);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t\t// eslint-disable-next-line\r\n\t}, [])\r\n\r\n\t// const onNextPage = ({ searchText, }) => {\r\n\t// \tconsole.log({ start })\r\n\t// \tgetData();\r\n\t// \thistory.push(`/search?q=${searchText}&start=${start}`);\r\n\t// \twindow.scrollTo(0, 0)\r\n\r\n\t// }\r\n\r\n\treturn <>{results.map(result =>\r\n\t\t<ListResult\r\n\t\t\tkey={result.url}\r\n\t\t\turl={result.url}\r\n\t\t\ttitle={result.title}\r\n\t\t\tsnippet={result.snippet}\r\n\t\t/>\r\n\t)}\r\n\t\t{/* <button onClick={onNextPage}>Next</button> */}\r\n\t</>\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}